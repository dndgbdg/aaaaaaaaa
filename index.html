<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>보드게임 모임 홍보 페이지</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <style>
    html { scroll-behavior: smooth; }
    body { font-family: sans-serif; margin: 0; padding: 0; background: #f5f5f5; color: #333; }
    header img { width: 100%; max-height: 300px; object-fit: cover; }

    nav {
      background: white;
      padding: 1rem;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      overflow-x: auto;
      white-space: nowrap;
      flex-wrap: nowrap;
    }
    nav a {
      display: inline-block;
      margin: 0.5rem 1rem;
      text-decoration: none;
      color: #4CAF50;
      font-weight: bold;
    }

    section {
      padding: 2rem 1rem;
      max-width: 900px;
      margin: auto;
      background: white;
      margin-top: 2rem;
      border-radius: 8px;
    }

    .map img {
      width: 100%;
      height: auto;
      border-radius: 8px;
    }

    .swiper-slide {
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .swiper-slide img {
      width: 155px;
      height: 155px;
      object-fit: cover;
      border-radius: 8px;
    }

    .lastSwiper .swiper-slide img {
      width: 100%;
      height: auto;
      border-radius: 10px;
      max-width: 100%;
      object-fit: contain;
    }

    .review-swiper .swiper-slide {
      background: #f0f0f0;
      border-radius: 8px;
      padding: 0.5rem;
      font-size: 0.85rem;
      display: flex;
      justify-content: space-between;
      flex-direction: column;
      height: auto;
      min-height: 80px;
    }

    footer {
      background: #333;
      color: white;
      padding: 1rem;
      text-align: center;
      margin-top: 2rem;
    }

    .social a {
      margin: 0 0.5rem;
      color: white;
      text-decoration: none;
      display: inline-block;
    }

    .contact-links {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: nowrap;
      gap: 2rem;
      margin-top: 1rem;
      flex-direction: row;
    }

    .contact-links img {
      width: 60px;
      height: 60px;
      border-radius: 8px;
      display: block;
      margin: 0 auto 0.5rem;
    }

    .game-popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    .popup-content {
      background: white;
      padding: 1rem;
      border-radius: 8px;
      text-align: center;
      position: relative;
      width: 80%;
      max-width: 300px;
    }

    .close-btn {
      position: absolute;
      top: 5px;
      right: 10px;
      font-size: 1.5rem;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <header>
    <img src="./img/배너.jpg" alt="일요일 보드게임 모임 배너">
  </header>

  <nav>
    <a href="#about">소개</a>
    <a href="#games">보유 게임</a>
    <a href="#lastweek">지난 모임</a>
    <a href="#location">오시는 길</a>
    <a href="#contact">문의</a>
  </nav>

  <section id="about">
    <h2>모임 소개</h2>
    <p>보드게임을 좋아하는 사람들과 함께 즐거운 시간을 보내보세요. 다양한 게임, 다양한 사람들! 누구나 참여할 수 있습니다.</p>
    <p><strong>모임 시간:</strong> 매주 일요일 오후 1시 ~ 6시</p>
  </section>

  <section id="games">
    <h2>보유중인 게임들</h2>
    <div class="swiper mySwiper">
      <div class="swiper-wrapper"></div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
    </div>
  </section>

  <section id="lastweek">
    <h2>지난주 참여자 및 사진</h2>
    <div class="swiper lastSwiper">
      <div class="swiper-wrapper"></div>
    </div>
    <div class="review-carousel-wrapper">
      <div class="swiper review-swiper">
        <div class="swiper-wrapper"></div>
      </div>
    </div>
  </section>

  <section id="location">
    <h2>오시는 길</h2>
    <p>서울시 광진구 화양동 16-37 (건대입구역 도보 7분)</p>
    <div class="map">
      <img src="./img/지도.jpg" alt="오시는 길 지도 이미지" />
    </div>
  </section>

  <section id="contact">
    <h2>예약 및 문의</h2>
    <div class="contact-links">
      <a href="https://munto.page.link/N4ac" target="_blank">
        <img src="./img/icon/문토.jpg" alt="문토">
        <div>Munto</div>
      </a>
      <a href="https://www.instagram.com/xyeonxun_0307/" target="_blank">
        <img src="./img/icon/인스타.jpg" alt="Instagram">
        <div>Instagram</div>
      </a>
      <a href="https://open.kakao.com/o/gdRnjiah" target="_blank">
        <img src="./img/icon/카카오톡.jpg" alt="카카오톡">
        <div>KakaoTalk</div>
      </a>
    </div>
  </section>

  <footer>
    <p>© 2025 일요일 보드게임 모임</p>
    <div class="social">
      <a href="https://www.instagram.com/xyeonxun_0307/" target="_blank">Instagram</a>
      <a href="https://open.kakao.com/o/gdRnjiah" target="_blank">KakaoTalk</a>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script>
    async function loadGamesFromCSV() {
      const response = await fetch('./게임종류.csv');
      const text = await response.text();
      const rows = text.trim().split('\n');
      const gameData = rows.slice(1).map(row => {
        const [name, players, recommended, genre] = row.split(',');
        return { name, players, recommended, genre };
      });

      const wrapper = document.querySelector('.mySwiper .swiper-wrapper');
      wrapper.innerHTML = '';
      gameData.forEach(game => {
        const slide = document.createElement('div');
        slide.className = 'swiper-slide';
        slide.setAttribute('onclick', 'showGameInfo(this)');
        slide.setAttribute('data-name', game.name);
        slide.setAttribute('data-players', game.players);
        slide.setAttribute('data-recommended', game.recommended);
        slide.setAttribute('data-genre', game.genre);
        slide.innerHTML = `
          <img src="./img/game/${game.name}.jpg" alt="${game.name}">
          <div>${game.name}</div>
        `;
        wrapper.appendChild(slide);
      });
    }

    async function loadReviewsFromCSV() {
      const response = await fetch('./리뷰.csv');
      const text = await response.text();
      const rows = text.trim().split('\n');
      const reviews = rows.slice(1).map(row => {
        const [name, date, ...contentParts] = row.split(',');
        return { name, date, content: contentParts.join(',') };
      });

      const wrapper = document.querySelector('.review-swiper .swiper-wrapper');
      wrapper.innerHTML = '';
      reviews.forEach(r => {
        const slide = document.createElement('div');
        slide.className = 'swiper-slide';
        slide.innerHTML = `
          <div>${r.content}</div>
          <div class="review-author">${r.name} <span>${r.date}</span></div>
        `;
        wrapper.appendChild(slide);
      });
    }

    async function loadPhotosFromCSV() {
      const response = await fetch('./참여자들사진.csv');
      const text = await response.text();
      const rows = text.trim().split('\n');
      const photos = rows.slice(1).map(row => {
        const [filename, caption] = row.split(',');
        return { filename, caption };
      });

      const wrapper = document.querySelector('.lastSwiper .swiper-wrapper');
      wrapper.innerHTML = '';
      photos.forEach(p => {
        const slide = document.createElement('div');
        slide.className = 'swiper-slide';
        slide.innerHTML = `
          <img src="./img/review/${p.filename}" alt="${p.caption}">
          <span>${p.caption}</span>
        `;
        wrapper.appendChild(slide);
      });
    }

    function showGameInfo(elem) {
      const name = elem.getAttribute('data-name');
      const players = elem.getAttribute('data-players');
      const recommended = elem.getAttribute('data-recommended');
      const genre = elem.getAttribute('data-genre');

      const popup = document.createElement('div');
      popup.className = 'game-popup';
      popup.innerHTML = `
        <div class="popup-content">
          <span class="close-btn" onclick="this.parentElement.parentElement.remove();">&times;</span>
          <h3>${name}</h3>
          <p><strong>인원:</strong> ${players}</p>
          <p><strong>추천 인원:</strong> ${recommended}</p>
          <p><strong>장르:</strong> ${genre}</p>
        </div>
      `;
      document.body.appendChild(popup);
    }

    window.addEventListener('DOMContentLoaded', () => {
      loadGamesFromCSV();
      loadReviewsFromCSV();
      loadPhotosFromCSV();

      new Swiper(".mySwiper", {
        slidesPerView: 3,
        spaceBetween: 20,
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev"
        },
        loop: true
      });

      new Swiper(".lastSwiper", {
        slidesPerView: 1,
        loop: true,
        autoplay: { delay: 3000 },
        effect: 'fade',
        fadeEffect: { crossFade: true }
      });

      new Swiper(".review-swiper", {
        slidesPerView: 3,
        spaceBetween: 16,
        loop: true,
        autoplay: {
          delay: 3000,
          disableOnInteraction: false
        }
      });
    });
  </script>
</body>
</html>
